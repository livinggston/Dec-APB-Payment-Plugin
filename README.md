
# Dec APB Payment Plugin

Платежный шлюз Агропромбанка для сайтов на WordPress+WooCommerce





## Установка
#### Способ 1: Установка через загрузку в папку WordPress

1. Скачайте ZIP-архив с плагином на ваш компьютер.
2. Распакуйте содержимое архива. В результате вы должны получить папку с плагином.
3. Используйте FTP-клиент или файловый менеджер хостинга для доступа к файлам вашего сайта на сервере.
4. Перейдите в папку wp-content/plugins/ вашего WordPress-сайта.
5. Загрузите папку с плагином, полученную на шаге 2, в папку wp-content/plugins/.
6. Войдите в админ-панель вашего WordPress-сайта.
7. Перейдите на страницу "Плагины".
8. Найдите установленный плагин в списке и нажмите "Активировать" для активации плагина.

#### Способ 2: Установка через пользовательский интерфейс WordPress
1. Скачайте ZIP-архив с плагином на ваш компьютер.
2. Войдите в админ-панель вашего WordPress-сайта.
3. Перейдите на страницу "Плагины" > "Добавить новый".
4. Нажмите на кнопку "Загрузить плагин" в верхней части страницы.
5. Нажмите на кнопку "Обзор" и выберите ZIP-архив с плагином, скачанный на шаге 1.
6. Нажмите на кнопку "Установить сейчас" для загрузки и установки плагина.
7. После завершения установки нажмите на кнопку "Активировать плагин" для активации плагина.
## Настройка
После установки и активации плагина необходимо его настроить.

1. Войдите в админ-панель вашего WordPress-сайта.
2. В левой боковой панели перейдите на страницу "WooCommerce" > "Настройки".
3. В открывшейся вкладке "Настройки" перейдите на вкладку "Платежи" (Payments).
4. Найдите платежный шлюз "Dec APB Payment" в списке доступных шлюзов и нажмите на кнопку "Управление" (Manage) или "Настроить" (Setup) рядом с ним.
5. В открывшейся странице настроек платежного шлюза "Dec APB Payment" найдите поля "Merchant Login" и "Merchant Pass".
6. Введите Merchant Login и Merchant Password, выданные вам банком.
7. Нажмите на кнопку "Сохранить изменения" (Save changes) в нижней части страницы.

## Про ResultURL, SuccessURL и FailURL

Банк отправляет результаты оплаты на адрес, переданный ему как ResultURL.  
 После оплаты перенаправляет пользователя на SuccesURL в случае успешной оплаты и на FailURL в случае неудачной.  
По умолчанию адреса следующие:  
ResultURL - /payment/result  
SuccesURL - /payment/success  
FailURL - /payment/failure  

Вы можете оставить адреса без изменений и передать банку значения в стандартном виде, либо изменить на свои.  
Для изменения, отредактируйте следующие строки в файле index.php:
```
$resultURL = "payment/result";
$successURL = "payment/success";
$failURL = "payment/failure";
```
